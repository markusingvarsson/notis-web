<div
  class="min-h-screen bg-gradient-to-br from-[var(--tw-bg-light)] via-[var(--tw-bg)] to-[var(--tw-primary-light)]/10"
>
  <div class="px-4 pt-6 pb-24 md:pb-6">
    <!-- Header -->
    <div class="flex items-center justify-between mb-6">
      <div>
        <h1 class="text-3xl font-bold text-gray-900">My Notes</h1>
        <p class="text-gray-600 mt-1">{{ notesCount() }} notes</p>
      </div>

      <div class="flex items-center gap-4">
        <!-- View Toggle -->
        <div class="flex bg-gray-100 rounded-lg p-1">
          <button
            (click)="viewMode.set('grid')"
            class="p-2 rounded-md transition-all duration-200"
            [class.bg-white]="viewMode() === 'grid'"
            [class.text-[var(--tw-primary)]]="viewMode() === 'grid'"
            [class.shadow-sm]="viewMode() === 'grid'"
            [class.text-gray-600]="viewMode() !== 'grid'"
            [class.hover:text-[var(--tw-primary)]]="viewMode() !== 'grid'"
            aria-label="Grid view"
          >
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"
              ></path>
            </svg>
          </button>
          <button
            (click)="viewMode.set('single')"
            class="p-2 rounded-md transition-all duration-200"
            [class.bg-white]="viewMode() === 'single'"
            [class.text-[var(--tw-primary)]]="viewMode() === 'single'"
            [class.shadow-sm]="viewMode() === 'single'"
            [class.text-gray-600]="viewMode() !== 'single'"
            [class.hover:text-[var(--tw-primary)]]="viewMode() !== 'single'"
            aria-label="Single column view"
          >
            <svg
              class="w-4 h-4"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 10h16M4 14h16M4 18h16"
              ></path>
            </svg>
          </button>
        </div>

        <button
          class="hidden md:flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-[var(--tw-primary)] to-[var(--tw-primary-dark)] text-white rounded-xl hover:shadow-lg transition-all duration-200"
        >
          <svg
            class="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 4v16m8-8H4"
            ></path>
          </svg>
          New Note
        </button>
      </div>
    </div>

    <!-- Notes Grid/Single -->
    @if (filteredNotes().length === 0) {
    <div class="text-center py-12">
      <div
        class="flex items-center justify-center w-16 h-16 bg-gradient-to-br from-[var(--tw-primary)] to-[var(--tw-primary-dark)] rounded-full mx-auto mb-4"
      >
        <svg
          class="w-8 h-8 text-white"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
          ></path>
        </svg>
      </div>
      <h3 class="text-xl font-semibold text-gray-900 mb-2">No notes found</h3>
      <p class="text-gray-600 mb-6">Start by creating your first voice note</p>
      <button
        class="inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-[var(--tw-primary)] to-[var(--tw-primary-dark)] text-white rounded-xl hover:shadow-lg transition-all duration-200"
      >
        <svg
          class="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 4v16m8-8H4"
          ></path>
        </svg>
        Create Note
      </button>
    </div>
    } @else {
    <div
      class="grid gap-6"
      [class]="
        viewMode() === 'grid'
          ? 'grid-cols-1 md:grid-cols-2 xl:grid-cols-3'
          : 'grid-cols-1 max-w-2xl mx-auto'
      "
    >
      @for (note of filteredNotes(); track note.id) {
      <app-note-card
        [note]="note"
        [isDeleting]="nextDeletingNoteId() === note.id"
        (delete)="onDelete($event)"
        (share)="onShare($event)"
      ></app-note-card>
      }
    </div>
    }
  </div>
</div>
